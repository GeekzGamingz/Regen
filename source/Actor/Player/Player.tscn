[gd_scene load_steps=6 format=3 uid="uid://c2dl6n7fjyny8"]

[ext_resource type="Script" path="res://source/Actor/Player/_02PlayerMovement.gd" id="1_toj2t"]
[ext_resource type="Script" path="res://source/Actor/Player/PlayerFSM.gd" id="2_mwrjc"]
[ext_resource type="PackedScene" uid="uid://uv6avv3m1aff" path="res://assets/Meshes/Humanoid/bodyattempt5.blend" id="3_o0mbi"]
[ext_resource type="PackedScene" uid="uid://mpkt245hqfmb" path="res://source/User Interface/camera_arm.tscn" id="4_b3hed"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_w5fiy"]
radius = 0.25
height = 1.5

[node name="Player" type="CharacterBody3D"]
collision_layer = 2
script = ExtResource("1_toj2t")

[node name="PlayerFSM" type="Node3D" parent="."]
script = ExtResource("2_mwrjc")

[node name="ActorMesh" parent="." instance=ExtResource("3_o0mbi")]
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, 0, 0, 0)

[node name="Skeleton3D" parent="ActorMesh/Armature" index="0"]
bones/0/position = Vector3(-3.09994e-08, 0.807435, 0.074035)
bones/1/rotation = Quaternion(0.473103, -2.67924e-09, 1.12492e-07, 0.881007)
bones/2/rotation = Quaternion(-0.110861, 5.18144e-09, -2.78366e-08, 0.993836)
bones/5/position = Vector3(-0.120976, 0.169427, 0.00965735)
bones/5/rotation = Quaternion(-0.0902651, 0.141319, 0.98032, 0.104179)
bones/6/rotation = Quaternion(-0.0640656, 0.00453213, 0.00926935, 0.997892)
bones/7/rotation = Quaternion(0.0495843, 0.000524234, -0.115401, 0.992081)
bones/11/rotation = Quaternion(0.111974, -0.326555, 0.654542, 0.672606)
bones/12/rotation = Quaternion(0.213049, -0.448485, 0.526899, 0.689818)
bones/14/rotation = Quaternion(-0.063768, -0.147378, 0.656807, 0.736762)
bones/15/rotation = Quaternion(0.231901, -0.441419, 0.546264, 0.673028)
bones/17/rotation = Quaternion(-0.322796, 0.119283, 0.690879, 0.635816)
bones/18/rotation = Quaternion(0.211931, -0.452891, 0.509208, 0.700488)
bones/20/rotation = Quaternion(-0.202975, -0.022484, 0.657414, 0.725329)
bones/21/rotation = Quaternion(0.237181, -0.439803, 0.549947, 0.669236)
bones/23/position = Vector3(0.120976, 0.169427, 0.0096574)
bones/23/rotation = Quaternion(-0.0902649, -0.141319, -0.98032, 0.104179)
bones/24/rotation = Quaternion(-0.0640656, -0.00453214, -0.00926933, 0.997892)
bones/25/rotation = Quaternion(0.0512522, -0.00107659, 0.115093, 0.992031)
bones/29/rotation = Quaternion(0.111974, 0.326555, -0.654542, 0.672606)
bones/30/rotation = Quaternion(0.213049, 0.448485, -0.526899, 0.689817)
bones/32/rotation = Quaternion(-0.063768, 0.147378, -0.656807, 0.736762)
bones/33/rotation = Quaternion(0.231901, 0.441419, -0.546264, 0.673028)
bones/35/rotation = Quaternion(-0.322796, -0.119283, -0.690878, 0.635816)
bones/36/rotation = Quaternion(0.211931, 0.452891, -0.509208, 0.700488)
bones/38/rotation = Quaternion(-0.202975, 0.0224839, -0.657414, 0.725329)
bones/39/rotation = Quaternion(0.237181, 0.439803, -0.549947, 0.669236)
bones/42/rotation = Quaternion(-0.00667544, -0.462066, 0.886819, 0.0017583)
bones/43/rotation = Quaternion(0.153276, 0.000363441, -0.0164073, 0.988047)
bones/44/rotation = Quaternion(-0.591051, -0.0119215, -0.00372412, 0.806538)
bones/45/rotation = Quaternion(-0.0439724, 0.354505, -0.072945, 0.931167)
bones/46/rotation = Quaternion(0.00667522, -0.462067, 0.886819, -0.00175835)
bones/47/rotation = Quaternion(0.153277, -0.000363472, 0.0164074, 0.988047)
bones/48/rotation = Quaternion(-0.591051, 0.0119215, 0.00372405, 0.806537)
bones/49/rotation = Quaternion(-0.0439724, -0.354505, 0.072945, 0.931167)

[node name="AnimationPlayer" parent="ActorMesh" index="2"]
autoplay = "Idle"

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.75, 0)
shape = SubResource("CapsuleShape3D_w5fiy")

[node name="CameraArm" parent="." instance=ExtResource("4_b3hed")]
margin = 1.0

[node name="WorldDetectors" type="Node3D" parent="."]

[node name="GroundDetectors" type="Node3D" parent="WorldDetectors"]

[node name="F_GroundDetector" type="RayCast3D" parent="WorldDetectors/GroundDetectors"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.150019, 0.5)
target_position = Vector3(0, -0.4, 0)

[node name="B_GroundDetector" type="RayCast3D" parent="WorldDetectors/GroundDetectors"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.15, -0.5)
target_position = Vector3(0, -0.4, 0)

[node name="C_GroundDetector" type="RayCast3D" parent="WorldDetectors/GroundDetectors"]
target_position = Vector3(0, -0.25, 0)

[node name="L_GroundDetector" type="RayCast3D" parent="WorldDetectors/GroundDetectors"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, 0.15, 0)
target_position = Vector3(0, -0.4, 0)

[node name="R_GroundDetector" type="RayCast3D" parent="WorldDetectors/GroundDetectors"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.5, 0.15, 0)
target_position = Vector3(0, -0.4, 0)

[node name="WallDetectors" type="Node3D" parent="WorldDetectors"]

[node name="F_WallDetector" type="RayCast3D" parent="WorldDetectors/WallDetectors"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.75, 0.5)
target_position = Vector3(0, 0, 0.25)

[node name="B_WallDetector" type="RayCast3D" parent="WorldDetectors/WallDetectors"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.75, -0.5)
target_position = Vector3(0, 0, -0.25)

[node name="L_WallDetector" type="RayCast3D" parent="WorldDetectors/WallDetectors"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, 0.75, 0)
target_position = Vector3(0.25, 0, 0)

[node name="R_WallDetector" type="RayCast3D" parent="WorldDetectors/WallDetectors"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.5, 0.75, 0)
target_position = Vector3(-0.25, 0, 0)

[node name="Outputs" type="Node3D" parent="."]

[node name="StateOutput" type="Label3D" parent="Outputs"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 1.83962, 0)
text = "State"

[editable path="ActorMesh"]
